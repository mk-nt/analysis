<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compuational cost of models • neotrans</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Compuational cost of models">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">neotrans</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2025-11-06</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/compare-trees.html">Impact of model choice on tree topologies</a>
    </li>
    <li>
      <a href="../articles/install.html">Install the neotrans package</a>
    </li>
    <li>
      <a href="../articles/matrix-processing.html">Annotate matrices</a>
    </li>
    <li>
      <a href="../articles/model-cost.html">Compuational cost of models</a>
    </li>
    <li>
      <a href="../articles/model-pairs.html">Comparison of model pairs</a>
    </li>
    <li>
      <a href="../articles/parameter-analysis.html">Parameter analysis</a>
    </li>
    <li>
      <a href="../articles/parameter-values.html">Parameter value summary</a>
    </li>
    <li>
      <a href="../articles/predictions.html">Predicting parameters and fit</a>
    </li>
    <li>
      <a href="../articles/prior-posterior.html">Prior-posterior comparison</a>
    </li>
    <li>
      <a href="../articles/stationarity.html">Evaluating stationarity</a>
    </li>
    <li>
      <a href="../articles/wct-comparison.html">Comparison to well-corroborated trees</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ms609/neotrans/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Compuational cost of models</h1>
                        <h4 data-toc-skip class="author">Martin R. Smith
<a href="mailto:martin.smith@durham.ac.uk" class="email">martin.smith@durham.ac.uk</a>
</h4>
            
            <h4 data-toc-skip class="date">2025-11-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ms609/neotrans/blob/main/vignettes/model-cost.Rmd" class="external-link"><code>vignettes/model-cost.Rmd</code></a></small>
      <div class="hidden name"><code>model-cost.Rmd</code></div>

    </div>

    
    
<p>This crude analysis summarizes the typical computational resources
associated with each model. The results lack rigour, but accord with
qualitative observations that heterogeneous models require substantially
more time and memory to converge.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ms609.github.io/neotrans/" class="external-link">"neotrans"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/topepo/caret/" class="external-link">"caret"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span></code></pre></div>
<p>Simple summary statistics capture the headline trend, but because
data are not universally available, include some biases:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SlurmLog.html">SlurmLog</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="va">db</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">db</span><span class="op">$</span><span class="va">State</span> <span class="op">==</span> <span class="st">"COMPLETED"</span> <span class="op">&amp;</span> <span class="va">db</span><span class="op">$</span><span class="va">seconds</span> <span class="op">&gt;</span> <span class="fl">60</span> <span class="op">&amp;</span></span>
<span>               <span class="va">db</span><span class="op">$</span><span class="va">task</span> <span class="op">==</span> <span class="st">"marginal"</span> <span class="op">&amp;</span> <span class="op">(</span><span class="va">db</span><span class="op">$</span><span class="va">inf</span> <span class="op">==</span> <span class="st">"ki"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>               <span class="va">db</span><span class="op">$</span><span class="va">pID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="../reference/AllProjects.html">AllProjects</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">db</span><span class="op">$</span><span class="va">sPerCore</span> <span class="op">&lt;-</span> <span class="va">db</span><span class="op">$</span><span class="va">seconds</span> <span class="op">/</span> <span class="va">db</span><span class="op">$</span><span class="va">nCPU</span></span>
<span><span class="va">db</span><span class="op">$</span><span class="va">coreSeconds</span> <span class="op">&lt;-</span> <span class="va">db</span><span class="op">$</span><span class="va">seconds</span> <span class="op">*</span> <span class="va">db</span><span class="op">$</span><span class="va">nCPU</span></span>
<span></span>
<span><span class="va">tcoef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">seconds</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span> <span class="op">+</span> <span class="va">nCPU</span>, data <span class="op">=</span> <span class="va">db</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">coeff</span></span>
<span><span class="va">tpcoef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">sPerCore</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">db</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">coeff</span></span>
<span><span class="va">tbycoef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">coreSeconds</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">db</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">coeff</span></span>
<span><span class="va">memcoef</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">maxRSS</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">db</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">coeff</span></span>
<span><span class="va">modelRows</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">tcoef</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/startsWith.html" class="external-link">startsWith</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">tcoef</span><span class="op">)</span>, <span class="st">"model"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tcoef</span><span class="op">[</span><span class="va">modelRows</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  tPerCore <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tpcoef</span><span class="op">[</span><span class="va">modelRows</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  coreSeconds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">tbycoef</span><span class="op">[</span><span class="va">modelRows</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  mem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">memcoef</span><span class="op">[</span><span class="va">modelRows</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">`rownames&lt;-`</span><span class="op">(</span><span class="fu"><a href="../reference/ModelLabel.html">ModelLabel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="st">""</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">modelRows</span><span class="op">)</span>, <span class="st">"_ki"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                    time  tPerCore coreSeconds       mem</span></span>
<span><span class="co">## StN           1.0123724 1.0218283   0.9925451 0.6586688</span></span>
<span><span class="co">## StN’          1.3970979 1.4791337   1.1630100 0.8713300</span></span>
<span><span class="co">## StNT          1.2333995 1.4954045   1.0272247 0.8275082</span></span>
<span><span class="co">## StT           1.2146017 1.4112706   1.0562238 0.8499770</span></span>
<span><span class="co">## Het           0.6442466 0.7113299   0.5533979 0.9399860</span></span>
<span><span class="co">## HetB          1.7979514 1.4439443   1.8337318 1.3206522</span></span>
<span><span class="co">## HetBM         1.9323071 1.8392757   1.7618588 1.1248677</span></span>
<span><span class="co">## HetM          1.9022444 1.7639777   1.7662068 1.1528526</span></span>
<span><span class="co">## Het1P         1.8257724 1.4485544   1.8696305 1.3213777</span></span>
<span><span class="co">## NstMk         1.1579098 1.4077777   0.9632911 0.8202848</span></span>
<span><span class="co">## NstN          1.2043054 1.3538302   1.0557694 0.8642699</span></span>
<span><span class="co">## NstNT         1.4385733 2.0069413   1.0332115 0.7127089</span></span>
<span><span class="co">## NstT          1.2115251 1.6828533   0.8678912 0.7096459</span></span>
<span><span class="co">## StN-shuffled  1.0052630 0.8486496   1.1298945 1.1211236</span></span>
<span><span class="co">## StNT-shuffled 1.1873468 1.2724782   1.0834414 0.9049694</span></span>
<span><span class="co">## StT-shuffled  1.1751000 1.2744805   1.0678330 0.8923388</span></span></code></pre>
<p>It is more representative to explore how time and memory usage can be
predicted after accounting for the datasets for which each model has
resource data available:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">train_control</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/trainControl.html" class="external-link">trainControl</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"cv"</span>, number <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">model1_cv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">seconds</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span> <span class="op">+</span> <span class="va">nCPU</span>, data <span class="op">=</span> <span class="va">db</span>,</span>
<span>                   trControl <span class="op">=</span> <span class="va">train_control</span>, method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model2_cv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">train</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">seconds</span><span class="op">)</span> <span class="op">~</span> <span class="va">pID</span> <span class="op">+</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">db</span>, </span>
<span>                   trControl <span class="op">=</span> <span class="va">train_control</span>, method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span>
<span><span class="co">## Warning in predict.lm(modelFit, newdata): prediction from rank-deficient fit;</span></span>
<span><span class="co">## attr(*, "non-estim") has doubtful cases</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Model 1 CV RMSE:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">model1_cv</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">RMSE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Model 1 CV RMSE: 0.679761</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Model 2 CV RMSE:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">model2_cv</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">RMSE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Model 2 CV RMSE: 0.679016</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">has_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">db</span>, <span class="va">pID</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">model</span> <span class="op">==</span> <span class="st">"by"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">pID</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">norm</span> <span class="op">&lt;-</span> <span class="va">db</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">has_by</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">pID</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    ref_s <span class="op">=</span> <span class="va">sPerCore</span><span class="op">[</span><span class="va">model</span> <span class="op">==</span> <span class="st">"by"</span><span class="op">]</span>,</span>
<span>    ref_mem <span class="op">=</span> <span class="va">maxRSS</span><span class="op">[</span><span class="va">model</span> <span class="op">==</span> <span class="st">"by"</span><span class="op">]</span>,</span>
<span>    norm_s <span class="op">=</span> <span class="va">sPerCore</span> <span class="op">/</span> <span class="va">ref_s</span>, norm_mem <span class="op">=</span> <span class="va">maxRSS</span> <span class="op">/</span> <span class="va">ref_mem</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">norm</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">scriptID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">norm_s</span><span class="op">)</span>, mem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">norm_mem</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>model <span class="op">=</span> <span class="fu"><a href="../reference/ModelLabel.html">ModelLabel</a></span><span class="op">(</span><span class="va">scriptID</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">model</span>, .before <span class="op">=</span> <span class="va">scriptID</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 17 × 5</span></span></span>
<span><span class="co">##    model         scriptID     time   mem     n</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> StMk          by_ki        1    1        48</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> StN           by_n_ki      1.21 0.989    42</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> StN’          by_nn_ki     2.58 1.27     45</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> StNT          by_nt_ki     1.95 1.000    46</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> StT           by_t_ki      6.18 0.905    44</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> HetB          hg_b_ki      3.11 1.97     29</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> HetBM         hg_bm_ki     3.58 1.79     28</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Het           hg_ki        1.87 2.26     15</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> HetM          hg_m_ki      3.93 1.77     29</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Het1P         hg2_ki       3.22 2.21     29</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> NstMk         ns_ki        1.84 0.942    44</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> NstN          ns_n_ki      1.92 1.05     46</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> NstNT         ns_nt_ki     3.26 0.701    36</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> NstT          ns_t_ki      2.39 0.900    45</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> StN-shuffled  rm_by_n_ki   1.05 1.15     42</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> StNT-shuffled rm_by_nt_ki  1.72 1.06     44</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> StT-shuffled  rm_by_t_ki   1.92 0.921    43</span></span></code></pre>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin R. Smith.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
